# フロッガーゲーム設計書

## 1. ゲーム概要

フロッガーは、カエルを操作して道路や川を渡って目的地に到達するクラシックアーケードゲームです。

### ゲーム目標
- カエルを5匹、画面上部の5つのゴールに安全に到達させる
- 車や水に触れることなく、障害物を避けて進む

## 2. ゲーム要素

### 2.1 プレイヤーキャラクター
- **カエル**: プレイヤーが操作するキャラクター
- 初期位置: 画面下部中央
- 移動: 上下左右の4方向、1マス単位で移動

### 2.2 ステージ構成
- **画面サイズ**: 800x600ピクセル
- **グリッド**: 15x13マス（各マス: 約53x46ピクセル）

#### エリア構成（上から下へ）
1. **ゴールエリア** (1行)
   - 5つのゴールスロット
   - カエルが到達する目的地

2. **川エリア** (5行)
   - 丸太や亀が左右に移動
   - カエルは丸太や亀に乗って移動する必要がある
   - 水に落ちるとライフを失う

3. **安全エリア** (1行)
   - 中間地点、障害物なし

4. **道路エリア** (5行)
   - 車やトラックが左右に移動
   - 車に触れるとライフを失う

5. **スタートエリア** (1行)
   - カエルの初期位置

### 2.3 障害物・乗り物

#### 道路エリア
- **車**: 小さく速い車両
- **トラック**: 大きく遅い車両
- 各行で異なる速度と方向で移動

#### 川エリア
- **丸太**: カエルが乗れる浮遊物
- **亀**: カエルが乗れるが、時々沈む
- 各行で異なる速度と方向で移動

## 3. ゲームシステム

### 3.1 操作方法
- **矢印キー**: カエルの移動（上下左右）
- **スペースキー**: ゲームの一時停止/再開

### 3.2 ゲームルール

#### 得点システム
- 前進（上方向移動）: 10点
- ゴール到達: 50点
- 時間ボーナス: 残り時間 × 1点

#### ライフシステム
- 初期ライフ: 3
- ライフを失う条件:
  - 車に衝突
  - 水に落ちる
  - 画面外に出る
  - 時間切れ

#### クリア条件
- 5匹のカエルをすべてのゴールに到達させる

#### ゲームオーバー条件
- ライフが0になる

### 3.3 難易度システム
- レベルが上がるにつれて：
  - 車の速度が増加
  - 丸太・亀の速度が増加
  - 制限時間が短縮

## 4. 技術仕様

### 4.1 使用技術
- **言語**: JavaScript (ES6+)
- **描画**: HTML5 Canvas
- **スタイル**: CSS3

### 4.2 ファイル構成
```
flogger/
├── index.html          # メインHTMLファイル
├── css/
│   └── style.css      # スタイルシート
├── js/
│   ├── game.js        # メインゲームロジック
│   ├── player.js      # プレイヤー制御
│   ├── obstacles.js   # 障害物管理
│   ├── collision.js   # 衝突判定
│   └── ui.js          # UI管理
└── assets/
    ├── images/        # 画像ファイル
    └── sounds/        # 音声ファイル（オプション）
```

### 4.3 主要クラス設計

#### Game クラス
- ゲーム全体の状態管理
- メインゲームループ
- レベル管理

#### Player クラス
- カエルの位置と状態
- 移動処理
- アニメーション

#### Obstacle クラス
- 車、丸太、亀の基底クラス
- 移動処理
- 描画処理

#### CollisionManager クラス
- 衝突判定処理
- ゲームオーバー判定

### 4.4 ゲームループ
1. 入力処理
2. 更新処理（位置、状態）
3. 衝突判定
4. 描画処理
5. UI更新

## 5. 実装フェーズ

### フェーズ1: 基本構造
- HTML/CSS/JSファイルの作成
- Canvas設定
- 基本的なゲームループ

### フェーズ2: プレイヤー実装
- カエルの描画と移動
- キーボード入力処理

### フェーズ3: 障害物実装
- 車の移動と描画
- 丸太・亀の実装

### フェーズ4: ゲームシステム
- 衝突判定
- ライフシステム
- 得点システム

### フェーズ5: UI・演出
- ゲーム画面UI
- アニメーション効果
- 音響効果（オプション）

## 6. 今後の拡張案
- 複数レベル
- パワーアップアイテム
- ランキングシステム
- モバイル対応